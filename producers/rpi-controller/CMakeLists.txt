SET(name "RPiController.exe")

FIND_PACKAGE(wiringPi REQUIRED)

IF(wiringPi_FOUND)
ELSE(wiringPi_FOUND)
  MESSAGE(FATAL_ERROR "Could not find the wiringPi library!")
ENDIF(wiringPi_FOUND)

SET(sourcefiles src/RPiController.cxx)

INCLUDE_DIRECTORIES(include ${wiringPi_INCLUDE_DIR})
ADD_EXECUTABLE(${name} ${sourcefiles})

TARGET_LINK_LIBRARIES(${name} EUDAQ ${wiringPi_LIBRARIES})

INSTALL(TARGETS ${name}
  RUNTIME DESTINATION bin COMPONENT RPICONTROLLER
  LIBRARY DESTINATION lib COMPONENT RPICONTROLLER
  ARCHIVE DESTINATION lib COMPONENT RPICONTROLLER)
