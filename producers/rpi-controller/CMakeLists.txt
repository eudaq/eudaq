SET(name "RPiController.exe")

FIND_PACKAGE(wiringPi REQUIRED)

IF(WIRINGPI_FOUND)
ELSE(WIRINGPI_FOUND)
  MESSAGE(FATAL_ERROR "Could not find the wiringPi library!")
ENDIF(WIRINGPI_FOUND)

SET(sourcefiles src/RPiController.cxx)

INCLUDE_DIRECTORIES(include ${WIRINGPI_INCLUDE_DIR})
ADD_EXECUTABLE(${name} ${sourcefiles})

TARGET_LINK_LIBRARIES(${name} EUDAQ ${EUDAQ_THREADS_LIB} ${WIRINGPI_LIBRARY})

INSTALL(TARGETS ${name}
  RUNTIME DESTINATION bin
  LIBRARY DESTINATION lib
  ARCHIVE DESTINATION lib)
